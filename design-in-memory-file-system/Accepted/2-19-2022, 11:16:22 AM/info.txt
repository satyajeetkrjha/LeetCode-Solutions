{"id":644631526,"lang":"cpp","time":"6 months, 1 week","timestamp":1645287382,"status_display":"Accepted","runtime":"42 ms","url":"/submissions/detail/644631526/","is_pending":"Not Pending","title":"Design In-Memory File System","memory":"15.1 MB","code":"class FileSystem {\npublic:\n    \n    struct filenode{\n      unordered_map <string ,filenode*> next;\n      bool isfile;\n      string content;\n      filenode():isfile(false),content(\"\"){}  \n    };\n    \n    \n    filenode* root ;\n    \n    FileSystem() {\n        root =new filenode();\n    }\n    \n    \n    filenode* gotopathfolder(string path){\n        filenode* cur = root ;\n        stringstream s(path);\n        string folder ;\n        while(getline(s,folder,'/')){\n            if(folder.size() != 0){\n                if(cur->next[folder]==NULL){\n                    cur->next[folder] = new filenode();\n                }\n                cur = cur->next[folder];\n            }\n        }\n        return cur;\n    }\n    \n\n    vector<string> ls(string path) {\n        filenode* cur = gotopathfolder(path);\n        if(cur->isfile){\n            return {path.substr(path.find_last_of('/')+1)};\n        }\n        vector <string> res ;\n        for(auto &p:cur->next){\n            res.push_back(p.first);\n        }\n        sort(res.begin(),res.end());\n        return res ;\n        \n    }\n    \n    void mkdir(string path) {\n        filenode *cur = gotopathfolder(path);\n        \n    }\n    \n    void addContentToFile(string filePath, string content) {\n        filenode* cur = gotopathfolder(filePath);\n        cur->content+= content ;\n        cur->isfile = true;\n    }\n    \n    string readContentFromFile(string filePath) {\n        filenode* cur = gotopathfolder(filePath);\n        return cur->content;\n    }\n};\n\n/**\n * Your FileSystem object will be instantiated and called as such:\n * FileSystem* obj = new FileSystem();\n * vector<string> param_1 = obj->ls(path);\n * obj->mkdir(path);\n * obj->addContentToFile(filePath,content);\n * string param_4 = obj->readContentFromFile(filePath);\n */","compare_result":"111111111111111111111111111111111111111111111111111111111111111","title_slug":"design-in-memory-file-system"}